(this.webpackJsonpmoviesdb=this.webpackJsonpmoviesdb||[]).push([[7],{23:function(e,n,t){"use strict";t.r(n);var c=t(2),r=t(4),i=t(1),o=t(16),a=t(0),s=Object(i.lazy)((function(){return t.e(1).then(t.bind(null,17))}));n.default=function(e){var n=e.open,t=e.onClose,u=e.movieId,l=e.onClick,d=e.setMovieId,j=Object(i.useState)((function(){})),f=Object(c.a)(j,2),m=f[0],b=f[1],h=Object(i.useState)((function(){return[]})),O=Object(c.a)(h,2),p=O[0],x=O[1],g=Object(i.useState)((function(){return[]})),v=Object(c.a)(g,2),k=v[0],w=v[1],_=Object(i.useState)((function(){})),N=Object(c.a)(_,2),y=N[0],I=N[1],M=Object(i.useState)((function(){return[]})),W=Object(c.a)(M,2),S=W[0],D=W[1],F=Object(i.useRef)((function(){return null})),C=Object(i.useMemo)((function(){return o.a}),[]),R=Object(i.useMemo)((function(){return o.d}),[]),E=Object(i.useMemo)((function(){return o.b}),[]),G=Object(i.useMemo)((function(){return o.c}),[]);Object(i.useEffect)((function(){n&&(R(u).then((function(e){e&&(F.current=e,I((function(){var e,n;return(null===F||void 0===F||null===(e=F.current[0])||void 0===e?void 0:e.key)?"https://www.youtube.com/embed/".concat(null===F||void 0===F||null===(n=F.current[0])||void 0===n?void 0:n.key):null})))})),C(u).then((function(e){e&&b((function(){return e}))})),E(u).then((function(e){e&&(x((function(){return e.cast})),w((function(){return e.crew})))})),G(u).then((function(e){e&&D((function(){return e.results.slice(0,4)}))})))}),[C,E,G,R,u,n,F]);var J=Object(i.useMemo)((function(){return function(){return y?Object(a.jsx)("iframe",{className:"content",width:"1080",height:"620",title:m?m.title:"",src:y,allowFullScreen:!0}):""}}),[m,y]),z=Object(i.useMemo)((function(){return function(){return S.length?Object(a.jsxs)("div",{className:"movie-recommandations",children:[Object(a.jsx)("h3",{children:"Recommandations"}),Object(a.jsx)(s,{movies:S,onClick:l,setMovieId:d,type:"recommandations"})]}):""}}),[S,l,d]);return Object(r.createPortal)(Object(a.jsx)(a.Fragment,{children:m&&Object(a.jsxs)("div",{className:n?"modal-movie visible":"modal-movie",children:[Object(a.jsx)("div",{className:"layer",onClick:function(){F.current=[],b((function(){})),I((function(){return[]})),t()}}),Object(a.jsxs)("div",{className:"modal-content",children:[Object(a.jsx)("div",{id:"modal-title",className:"title",children:"".concat(m.title," ").concat(m.release_date?"(".concat(m.release_date.slice(0,4),")"):"")}),J(),Object(a.jsxs)("div",{className:"movie-details",children:[Object(a.jsx)("p",{children:m.overview||" "}),m.genres.length?Object(a.jsxs)("p",{children:[Object(a.jsx)("span",{className:"key",children:m.genres.length>1?"Genres":"Genre"}),":"," ",m.genres.map((function(e,n,t){return Object(a.jsx)("span",{children:t.length-1===n?"".concat(e.name,"."):"".concat(e.name,", ")},e.id)||" "}))]}):"",m.release_date?Object(a.jsxs)("p",{children:[Object(a.jsx)("span",{className:"key",children:"Release"}),": ",m.release_date||" "]}):"",k.filter((function(e){return"Director"===e.job})).length?Object(a.jsxs)("p",{children:[Object(a.jsx)("span",{className:"key",children:k.filter((function(e){return"Director"===e.job})).length>1?"Directors":"Director"}),":"," ",k.filter((function(e){return"Director"===e.job})).map((function(e,n,t){return Object(a.jsx)("span",{children:t.length-1===n?"".concat(e.name,"."):"".concat(e.name,", ")},e.id)||" "}))]}):"",k.filter((function(e,n,t){return"Writing"===e.known_for_department&&n===t.findIndex((function(n){return n.id===e.id}))})).length?Object(a.jsxs)("p",{children:[Object(a.jsx)("span",{className:"key",children:k.filter((function(e,n,t){return"Writing"===e.known_for_department&&n===t.findIndex((function(n){return n.id===e.id}))})).length>1?"Writers":"Writer"}),":"," ",k.filter((function(e,n,t){return"Writing"===e.known_for_department&&n===t.findIndex((function(n){return n.id===e.id}))})).length>2?k.filter((function(e,n,t){return"Writing"===e.known_for_department&&n===t.findIndex((function(n){return n.id===e.id}))})).slice(0,2).map((function(e,n,t){return Object(a.jsx)("span",{children:t.length-1===n?Object(a.jsxs)(a.Fragment,{children:["".concat(e.name," (").concat(e.job,") |")," ",Object(a.jsx)("span",{className:"cta",children:"".concat(k.filter((function(e,n,t){return"Writing"===e.known_for_department&&n===t.findIndex((function(n){return n.id===e.id}))})).length-2," more credits.")})]}):"".concat(e.name," (").concat(e.job,"), ")},e.id)||" "})):k.filter((function(e,n,t){return"Writing"===e.known_for_department&&n===t.findIndex((function(n){return n.id===e.id}))})).map((function(e,n,t){return Object(a.jsx)("span",{children:t.length-1===n?"".concat(e.name," (").concat(e.job,")."):"".concat(e.name," (").concat(e.job,"), ")},e.id)||" "}))]}):"",p.length?Object(a.jsxs)("p",{children:[Object(a.jsx)("span",{className:"key",children:"Stars"}),":"," ",p.length>5?p.slice(0,5).map((function(e,n,t){return Object(a.jsx)("span",{children:t.length-1===n?Object(a.jsxs)(a.Fragment,{children:["".concat(e.name," | "),Object(a.jsx)("span",{className:"cta",children:"Full casts & crews"})]}):"".concat(e.name,", ")},e.id)||" "})):p.map((function(e,n,t){return Object(a.jsx)("span",{children:t.length-1===n?"".concat(e.name,"."):"".concat(e.name,", ")},e.id)||" "}))]}):""]}),z()]})]})}),document.getElementById("portal"))}}}]);
//# sourceMappingURL=7.c861873e.chunk.js.map