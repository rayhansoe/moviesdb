{"version":3,"sources":["components/MoviePreview.jsx"],"names":["MoviePreview","id","movie","onClick","setMovieId","useState","preMovie","setPreMovie","cardLayer","useRef","movieTitle","getMovieApi","useMemo","MovieById","useEffect","then","res","current","handleClick","src","poster_path","alt","title","release_date","slice","className","ref","vote_average","genres","map","genre","name","runtime"],"mappings":"6IAmEeA,UAhEM,SAAC,GAAwC,IAAtCC,EAAqC,EAArCA,GAAIC,EAAiC,EAAjCA,MAAOC,EAA0B,EAA1BA,QAASC,EAAiB,EAAjBA,WAC3C,EAAgCC,oBAAS,eAAzC,mBAAOC,EAAP,KAAiBC,EAAjB,KACMC,EAAYC,iBAAO,MACnBC,EAAaD,iBAAO,MACpBE,EAAcC,mBAAQ,kBAAMC,MAAW,IAE7CC,qBAAU,WACTH,EAAYV,GAAIc,MAAK,SAAAC,GAChBA,IACHd,EAAMe,QAAUD,EAChBT,GAAY,kBAAML,EAAMe,iBAKxB,CAACN,EAAaV,EAAIC,EAAOK,IAE5B,IAAMW,EAAc,SAAAjB,GACnBE,IACAC,EAAWH,IAGZ,OAAOK,EACN,qCACC,qBACCa,IACCb,EAASc,YAAT,0CACsCd,EAASc,aAC5C,8BAEJ,UAASd,EAASL,GAClBoB,IAAG,UAAKf,EAASgB,MAAd,aAAwBhB,EAASiB,aAAaC,MAAM,EAAG,GAAvD,YACHC,UAAU,SACVtB,QAAS,kBAAMe,EAAYZ,EAASL,OAErC,sBAAKwB,UAAU,SAAf,UACC,oBACCA,UAAU,cACVC,IAAKhB,EACL,UAASJ,EAASL,GAClBE,QAAS,kBAAMe,EAAYZ,EAASL,KAJrC,mBAKKK,EAASgB,MALd,YAKuBpB,EAAMqB,aAAN,WAAyBrB,EAAMqB,aAAaC,MAAM,EAAG,GAArD,KAA6D,MAEpF,sBAAKC,UAAU,OAAOtB,QAAS,kBAAMe,EAAYZ,EAASL,KAAK,UAASK,EAASL,GAAjF,UACC,uCACO,sBAAMwB,UAAU,SAAhB,SAA0BnB,EAASqB,kBAE1C,4BACErB,EAASsB,OAAOC,KAAI,SAAAC,GACpB,OAAO,yCAAyBA,EAAMC,KAA/B,MAAWD,EAAM7B,YAI3B,oBAAGwB,UAAU,WAAb,UAAyBnB,EAAS0B,QAAlC,aAED,qBACCP,UAAU,aACV,UAASnB,EAASL,GAClByB,IAAKlB,EACLL,QAAS,kBAAMe,EAAYZ,EAASL,UAEnC","file":"static/js/8.cff7bc9b.chunk.js","sourcesContent":["import React, { useEffect, useMemo, useState, useRef } from \"react\"\r\nimport { MovieById } from \"../tools/MovieApi\"\r\n\r\nconst MoviePreview = ({ id, movie, onClick, setMovieId }) => {\r\n\tconst [preMovie, setPreMovie] = useState(() => {})\r\n\tconst cardLayer = useRef(null)\r\n\tconst movieTitle = useRef(null)\r\n\tconst getMovieApi = useMemo(() => MovieById, [])\r\n\r\n\tuseEffect(() => {\r\n\t\tgetMovieApi(id).then(res => {\r\n\t\t\tif (res) {\r\n\t\t\t\tmovie.current = res\r\n\t\t\t\tsetPreMovie(() => movie.current)\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\treturn\r\n\t}, [getMovieApi, id, movie, setPreMovie])\r\n\r\n\tconst handleClick = id => {\r\n\t\tonClick()\r\n\t\tsetMovieId(id)\r\n\t}\r\n\r\n\treturn preMovie ? (\r\n\t\t<>\r\n\t\t\t<img\r\n\t\t\t\tsrc={\r\n\t\t\t\t\tpreMovie.poster_path\r\n\t\t\t\t\t\t? `https://image.tmdb.org/t/p/w200/${preMovie.poster_path}`\r\n\t\t\t\t\t\t: \"/moviesdb/404 Error-bro.svg\"\r\n\t\t\t\t}\r\n\t\t\t\tdata-id={preMovie.id}\r\n\t\t\t\talt={`${preMovie.title} (${preMovie.release_date.slice(0, 4)}) poster`}\r\n\t\t\t\tclassName='poster'\r\n\t\t\t\tonClick={() => handleClick(preMovie.id)}\r\n\t\t\t/>\r\n\t\t\t<div className='detail'>\r\n\t\t\t\t<h3\r\n\t\t\t\t\tclassName='movie-title'\r\n\t\t\t\t\tref={movieTitle}\r\n\t\t\t\t\tdata-id={preMovie.id}\r\n\t\t\t\t\tonClick={() => handleClick(preMovie.id)}>\r\n\t\t\t\t\t{`${preMovie.title} ${movie.release_date ? `(${movie.release_date.slice(0, 4)})` : \"\"}`}\r\n\t\t\t\t</h3>\r\n\t\t\t\t<div className='sec1' onClick={() => handleClick(preMovie.id)} data-id={preMovie.id}>\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\timdb: <span className='rating'>{preMovie.vote_average}</span>\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\t{preMovie.genres.map(genre => {\r\n\t\t\t\t\t\t\treturn <span key={genre.id}>{`${genre.name} `}</span>\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t<p className='duration'>{preMovie.runtime} min</p>\r\n\t\t\t</div>\r\n\t\t\t<div\r\n\t\t\t\tclassName='card-layer'\r\n\t\t\t\tdata-id={preMovie.id}\r\n\t\t\t\tref={cardLayer}\r\n\t\t\t\tonClick={() => handleClick(preMovie.id)}></div>\r\n\t\t</>\r\n\t) : null\r\n}\r\n\r\nexport default MoviePreview\r\n"],"sourceRoot":""}